"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function Logger(){return this instanceof Logger?(Logger.super_.call(this),this.level=2,this.setStream(process.stdout),this):new Logger}var _defineProperties=require("babel-runtime/core-js/object/define-properties"),_defineProperties2=_interopRequireDefault(_defineProperties),Colours=require("colours"),TypeOf=require("typeof"),assert=require("assert"),util=require("util"),path=require("path");util.inherits(Logger,Object),(0,_defineProperties2["default"])(Logger.prototype,{LEVEL_SILENT:{value:0},LEVEL_ERROR:{value:1},LEVEL_WARNING:{value:2},LEVEL_INFO:{value:3},LEVEL_DEBUG:{value:4},LEVEL_MAX:{value:5},setLevel:{value:function(t){var e=t;TypeOf.isString(e)&&(e=this["LEVEL_"+t.toUpperCase()]),assert(TypeOf.isNumber(e)&&e>=0&&e<=this.LEVEL_MAX,"Unknown logger level!"),this.level=e}},getLevel:{value:function(){return this.level}},setStream:{value:function(t){return this.stream=t,process.browser?(Colours.disable(),this.output=this.outputBrowser):Colours.isValid(this.stream)?(Colours.enable(),this.output=this.outputColour):(Colours.disable(),void(this.output=this.outputPlaintext))}},trace:{value:function(){var t=[/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i,/at\s+()(.*):(\d*):(\d*)/i];return function(e){var r=(new Error).stack||"",i=r.split("\n").slice(e||4),o=t[0].exec(i[0])||t[1].exec(i[0])||{};return{method:o[1],path:o[2],line:o[3],"char":o[4],file:path.basename(o[2],".js"),trace:r}}}()},timestamp:{get:function(){return"["+(new Date).toTimeString().split(/[\s]+/)[0]+"]"}},stringify:{value:function(){return function(t){return TypeOf.isString(t)?t:util.inspect(t,{depth:null,colors:Colours.isValid(this.stream)})}}()},outputBrowser:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e.length,o=void 0;for(o=0;o<i;++o)console.log(e[o])}},outputPlaintext:{value:function(){var t=require("os").EOL;return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.length,s=void 0;for(s=0;s<o;++s)this.stream.write(""+r[s]+t)}}()},outputColour:{value:function(){var t=require("os").EOL+"[49m[0m";return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.length,s=void 0,n=void 0;for(s=0;s<o;++s)n=r[s],this.stream.write(n),n.visibleLength!==process.stdout.columns&&this.stream.write(t)}}()},skip:{value:function(t){if(!(this.level<=this.LEVEL_INFO))for(var e=0;e<t;++e)this.output("")}},print:{value:function(t,e){if(!(t>this.level)){for(var r=this.trace(),i=("["+r.file+":"+r.line+"]").grey,o=arguments.length,s=Array(o>2?o-2:0),n=2;n<o;n++)s[n-2]=arguments[n];var u=s.map(this.stringify).join("");this.output(this.timestamp.grey+" "+i+" "+e+" "+u)}}},debug:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_DEBUG,"[d]".blue].concat(e))}},info:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_INFO,"[i]".grey].concat(e))}},warn:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_WARNING,"[w]".yellow].concat(e))}},error:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_ERROR,"[!]".red].concat(e))}},fatal:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_ERROR,"[x]".red].concat(e)),process.exit(-1)}},ok:{value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.print.apply(this,[this.LEVEL_INFO,"[âœ“]".green].concat(e))}}}),module.exports=global.logger=new Logger;